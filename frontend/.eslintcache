[{"/Users/christinatong/CS97/frontend/src/index.js":"1","/Users/christinatong/CS97/frontend/src/components/main.js":"2","/Users/christinatong/CS97/frontend/src/components/signup.js":"3","/Users/christinatong/CS97/frontend/src/components/clubs.js":"4","/Users/christinatong/CS97/frontend/src/components/events.js":"5","/Users/christinatong/CS97/frontend/src/components/xy.js":"6"},{"size":500,"mtime":1608423593986,"results":"7","hashOfConfig":"8"},{"size":858,"mtime":1608423593986,"results":"9","hashOfConfig":"8"},{"size":3162,"mtime":1608423593986,"results":"10","hashOfConfig":"8"},{"size":10202,"mtime":1608456009975,"results":"11","hashOfConfig":"8"},{"size":5988,"mtime":1608456291356,"results":"12","hashOfConfig":"8"},{"size":6163,"mtime":1608456016205,"results":"13","hashOfConfig":"8"},{"filePath":"14","messages":"15","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"19jryz9",{"filePath":"16","messages":"17","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"18","messages":"19","errorCount":0,"warningCount":6,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"20","messages":"21","errorCount":0,"warningCount":7,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"22","messages":"23","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"24","messages":"25","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"26"},"/Users/christinatong/CS97/frontend/src/index.js",[],"/Users/christinatong/CS97/frontend/src/components/main.js",["27"],"/Users/christinatong/CS97/frontend/src/components/signup.js",["28","29","30","31","32","33"],"/Users/christinatong/CS97/frontend/src/components/clubs.js",["34","35","36","37","38","39","40"],"/Users/christinatong/CS97/frontend/src/components/events.js",["41","42","43"],"/Users/christinatong/CS97/frontend/src/components/xy.js",["44","45","46","47"],"import React from \"react\";\nimport \"../styles/layout.css\";\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faTrash, faCog } from \"@fortawesome/free-solid-svg-icons\";\nimport axios from 'axios';\n\nexport default class xy extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = { \n        userUrl:[],\n        user: [],\n        masterclubList: [],\n        clubList: [],\n        categories: [],\n        profile_clubs: [],\n        profile_club_ids: [],\n        pk: '',\n        events: [],\n        curr_club: '',\n    };\n  }\n\n  componentDidMount() { \n    const categorySet = new Set();\n    // all club data\n    axios({\n        method: 'get',\n        url: \"http://127.0.0.1:8000/clubs/\",\n        headers: {\"authorization\": localStorage.getItem('token')},\n    }).then((response) => {\n        console.log(\"all club data:\")\n        console.log(response)\n        this.setState({clubList: response.data});\n        this.setState({masterclubList: response.data});\n        // set the category buttons by grabbing all categories\n        this.state.clubList.map((club, index) =>\n        {\n            categorySet.add(club.category);\n        })\n        this.setState({categories: [...categorySet]});\n        console.log(this.state.clubList);\n        console.log(this.state.categories);\n        console.log(localStorage.getItem('token'))\n    }).catch(function (error) {\n        console.log(error)\n    });\n\n    // user club profiles\n    axios({\n        method: 'get',\n        url: \"http://127.0.0.1:8000/profiles/\",\n        headers: {\"authorization\": localStorage.getItem('token')},\n    }).then((response) => {\n        console.log(\"user club profiles:\")\n        console.log(response)\n        this.setState({userUrl: response.data[0].url})\n        console.log(this.state.userUrl)\n        this.setState({profile_clubs: response.data[0].clubs})\n        console.log(this.state.profile_clubs)\n        this.setState({profile_club_ids: response.data[0].club_ids})\n        console.log(this.state.profile_club_ids)\n    }).catch(function (error) {\n        console.log(error)\n    });\n\n    // club events info\n    axios({\n      method: 'get',\n      url: \"http://127.0.0.1:8000/events/\",\n      headers: {\"authorization\": localStorage.getItem('token')},\n    }).then((response) => {\n        console.log(\"Events:\")\n        console.log(response)\n        this.setState({events: response.data})\n    }).catch(function (error) {\n        console.log(error)\n    });\n}\n\n  toggleMenu() {\n    var setting = document.getElementsByClassName(\"menu_setting\")[0];\n    var menu = document.getElementsByClassName(\"menu\")[0];\n    if (menu.style.display == \"flex\")\n    {\n        menu.style.display = \"none\";\n        setting.style.backgroundColor = \"#ffffff\";\n    }\n    else\n    {\n        menu.style.display = \"flex\";\n        setting.style.backgroundColor = \"#1488e0\";\n    }\n}\n\nlogOut() {\n    // log out; reset the token and usernamed cached and return to login page\n    localStorage.setItem(\"token\", \"\");\n    localStorage.setItem(\"username\", \"\");\n    window.location.href=\"#login\";\n}\n\nremoveClub(id) {\n  // adding a club to user profile\n  // creating the new list of club ids\n  var new_club_ids = []\n  for (var i = 0; i < this.state.profile_club_ids.length; i++)\n  {\n      if (this.state.profile_club_ids[i] !== id)\n          new_club_ids.push(this.state.profile_club_ids[i])\n  }\n  console.log(new_club_ids)\n  \n  axios({\n      method: 'patch',\n      url: this.state.userUrl,\n      data: {\n          club_ids: new_club_ids,\n      },\n      headers: {\"authorization\": localStorage.getItem('token')},\n  }).then((response) => {\n      console.log(\"unsubscribed from a club:\")\n      console.log(response)\n      // updating state values accordingly\n      this.setState({profile_clubs: response.data.clubs, profile_club_ids: response.data.club_ids})\n  }).catch(function (error) {\n      console.log(error)\n  });\n}\n\nrenderCards = (card, index) => {\n  if (localStorage.getItem(\"score\") != null ) {\n      this.state.curr_club = localStorage.getItem(\"score\");\n      localStorage.removeItem(\"score\");\n    }\n\n  if (card.club == this.state.curr_club){\n    return(\n      <div className=\"date\">{card.date}\n        <div className=\"event_card\">\n           <p className=\"event_title\">{card.name}</p>\n           <div className=\"event_container\">\n              <p className=\"event_info\">{card.club}</p>\n            </div>\n        </div>\n      </div>\n    )\n  }\n  else{\n    return(null)\n  }\n}\n\nwhenClicked(str){\n  this.setState({curr_club: str});\n}\n\nrender() {\n    return (\n      <div className=\"body_nopadding\" style={{position: 'relative'}}>\n        <button className=\"menu_setting\" style = {{backgroundColor: '#ffff'}} onClick={()=>{this.toggleMenu()}}><FontAwesomeIcon icon={faCog}/></button>\n          <div className=\"menu\">\n            <div className=\"column\">\n                <h1 style={{marginTop: '0px'}}>{localStorage.getItem('username')}</h1>\n                <a href = '#events' className=\"menu_button\" style={{marginBottom: '16px'}}>Events</a>\n                <a href = '#clubs' className=\"menu_button\">Club Info</a>\n            </div>\n            <div className=\"column\">\n                <h2>SUBSCRIPTIONS</h2>\n                {this.state.profile_clubs.map((club, index) => {\n                    return(\n                        <div className=\"club_link\">\n                            <a href = '#xy' onClick={() => {this.whenClicked(club.name)}}> {club.name}</a>\n                            <button className=\"trash_button\" onClick={()=>{this.removeClub(club.pk)}}><FontAwesomeIcon icon={faTrash}/></button>\n                        </div>\n                    )\n                })}\n            </div>\n            <button className=\"button\" \n                style={{bottom: '0', position: 'absolute', marginBottom: '32px'}}\n                onClick={()=>{this.logOut()}}\n            >Log Out</button>\n          </div>\n\n      <div className=\"body\" style={{position: 'relative', float: 'left'}}>\n          <p className=\"bodyHeader\" style={{color: \"#000000\"}}>{this.state.curr_club} Events</p>\n          {this.state.events.map(this.renderCards)}   \n      </div>\n    </div>\n    );\n  }\n} ",{"ruleId":"48","severity":1,"message":"49","line":2,"column":42,"nodeType":"50","messageId":"51","endLine":2,"endColumn":48},{"ruleId":"48","severity":1,"message":"52","line":3,"column":9,"nodeType":"50","messageId":"51","endLine":3,"endColumn":13},{"ruleId":"53","severity":1,"message":"54","line":24,"column":24,"nodeType":"55","messageId":"56","endLine":24,"endColumn":25,"suggestions":"57"},{"ruleId":"53","severity":1,"message":"54","line":24,"column":49,"nodeType":"55","messageId":"56","endLine":24,"endColumn":50,"suggestions":"58"},{"ruleId":"59","severity":1,"message":"60","line":31,"column":33,"nodeType":"61","messageId":"62","endLine":31,"endColumn":35},{"ruleId":"59","severity":1,"message":"60","line":31,"column":57,"nodeType":"61","messageId":"62","endLine":31,"endColumn":59},{"ruleId":"59","severity":1,"message":"60","line":32,"column":16,"nodeType":"61","messageId":"62","endLine":32,"endColumn":18},{"ruleId":"63","severity":1,"message":"64","line":36,"column":51,"nodeType":"65","messageId":"66","endLine":36,"endColumn":53},{"ruleId":"59","severity":1,"message":"60","line":70,"column":32,"nodeType":"61","messageId":"62","endLine":70,"endColumn":34},{"ruleId":"59","severity":1,"message":"67","line":115,"column":29,"nodeType":"61","messageId":"62","endLine":115,"endColumn":31},{"ruleId":"59","severity":1,"message":"60","line":121,"column":42,"nodeType":"61","messageId":"62","endLine":121,"endColumn":44},{"ruleId":"63","severity":1,"message":"64","line":129,"column":57,"nodeType":"65","messageId":"66","endLine":129,"endColumn":59},{"ruleId":"59","severity":1,"message":"60","line":130,"column":34,"nodeType":"61","messageId":"62","endLine":130,"endColumn":36},{"ruleId":"63","severity":1,"message":"64","line":135,"column":42,"nodeType":"65","messageId":"66","endLine":135,"endColumn":44},{"ruleId":"48","severity":1,"message":"68","line":6,"column":8,"nodeType":"50","messageId":"51","endLine":6,"endColumn":13},{"ruleId":"63","severity":1,"message":"64","line":38,"column":47,"nodeType":"65","messageId":"66","endLine":38,"endColumn":49},{"ruleId":"59","severity":1,"message":"60","line":85,"column":28,"nodeType":"61","messageId":"62","endLine":85,"endColumn":30},{"ruleId":"63","severity":1,"message":"64","line":37,"column":47,"nodeType":"65","messageId":"66","endLine":37,"endColumn":49},{"ruleId":"59","severity":1,"message":"60","line":84,"column":28,"nodeType":"61","messageId":"62","endLine":84,"endColumn":30},{"ruleId":"69","severity":1,"message":"70","line":133,"column":7,"nodeType":"71","endLine":133,"endColumn":17},{"ruleId":"59","severity":1,"message":"60","line":137,"column":17,"nodeType":"61","messageId":"62","endLine":137,"endColumn":19},"no-unused-vars","'Router' is defined but never used.","Identifier","unusedVar","'Link' is defined but never used.","no-useless-escape","Unnecessary escape character: \\[.","Literal","unnecessaryEscape",["72","73"],["74","75"],"eqeqeq","Expected '===' and instead saw '=='.","BinaryExpression","unexpected","array-callback-return","Array.prototype.map() expects a return value from arrow function.","ArrowFunctionExpression","expectedInside","Expected '!==' and instead saw '!='.","'child' is defined but never used.","react/no-direct-mutation-state","Do not mutate state directly. Use setState().","MemberExpression",{"messageId":"76","fix":"77","desc":"78"},{"messageId":"79","fix":"80","desc":"81"},{"messageId":"76","fix":"82","desc":"78"},{"messageId":"79","fix":"83","desc":"81"},"removeEscape",{"range":"84","text":"85"},"Remove the `\\`. This maintains the current functionality.","escapeBackslash",{"range":"86","text":"87"},"Replace the `\\` with `\\\\` to include the actual backslash character.",{"range":"88","text":"85"},{"range":"89","text":"87"},[677,678],"",[677,677],"\\",[702,703],[702,702]]